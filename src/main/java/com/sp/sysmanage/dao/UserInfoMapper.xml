<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sp.sysmanage.dao.UserInfoMapper">

    <resultMap type="com.sp.sysmanage.domain.UserInfoDO" id="user">
    	<result column="USER_ID" property="userID"/>  
        <result column="USER_NAME" property="userName"/>
        <result column="USER_PASSWORD" property="password"/>
        <result column="USER_FIRST_LOGIN" property="firstLogin"/>
        <result column="USER_LAST_LOGIN_DATE" property="lastLoginDate"/>
        <result column="USER_STATUS" property="status"/>
    </resultMap>

    <select id="selectByUserID" resultMap="user">
        select
            u.USER_ID,
            u.USER_NAME,
            u.USER_PASSWORD,
            u.USER_FIRST_LOGIN,
            u.USER_LAST_LOGIN_DATE,
            u.USER_STATUS
        from
            user_tbl u
        where
            u.USER_ID = #{userID}
    </select>

    <select id="selectByName" resultMap="user">
        select
            s.USER_ID,
            s.USER_NAME,
            s.USER_PASSWORD,
            s.USER_FIRST_LOGIN,
            s.USER_LAST_LOGIN_DATE,
            s.USER_STATUS
        from
            user_tbl s
        where
            s.USER_NAME = #{userName}
    </select>

    <select id="selectAll" resultMap="user">
        select
            s.USER_ID,
            s.USER_NAME,
            s.USER_PASSWORD,
            s.USER_FIRST_LOGIN,
            s.USER_LAST_LOGIN_DATE,
            s.USER_STATUS
        from
            user_tbl s
    </select>

    <insert id="insert" useGeneratedKeys="true">
        insert into user_tbl(USER_ID,USER_NAME,USER_PASSWORD,USER_FIRST_LOGIN,USER_LAST_LOGIN_DATE,USER_STATUS)
        values (#{userID},#{userName},#{password}, #{firstLogin}, #{lastLoginDate}, #{status})
    </insert>

    <update id="update">
        update user_tbl set
            USER_NAME = #{userName},
            USER_PASSWORD = #{password},
            USER_FIRST_LOGIN = #{firstLogin},
            USER_LAST_LOGIN_DATE = #{lastLoginDate},
            USER_STATUS = #{status}
        where
            USER_ID = #{userID}
    </update>

    <delete id="deleteById">
        delete from user_tbl
        where
        USER_ID = #{userID}
    </delete>

    <delete id="deleteByName">
        delete from user_tbl
        where
        USER_ID = #{userName}
    </delete>  
</mapper>